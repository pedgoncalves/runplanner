<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="#{loginBean.templateVersion}">

	<ui:define name="content">
		
		<div class="Container100 Responsive">
	            <div class="ContainerIndent">
	                <div class="EmptyBox20"></div>
	          
	          		<i class="icon-wristwatch Fs50 Fleft hardblue"></i>
	                <div class="Fs28 Fleft Wid70 hardblue">#{msgs['equipment.maintitle']}</div>
	                <div class="Fs10 Fleft Wid70 leaden">#{msgs['equipment.subtitle']}</div>
                    <p:separator styleClass="Wid100"></p:separator>	          		
                    <div class="EmptyBox10"></div>
                    
                    <p:panel header="Lista de Equipamentos">
   	          		<h:form>
                     
                     	
                     	<div class="Container40">
	                     	<p:panelGrid columns="2" style="border:0px !important; background:none;" styleClass="ui-panelgrid-blank" layout="grid">                     	 	
						    	
						    	<p:column>
						    		<p:outputLabel for="console" value="#{msgs['equipment.filter.active']}: " styleClass="Wid30"/>						    								    				    		 
								    <p:selectOneMenu value="#{equipmentMBean.findActive}" styleClass="Wid70" id="console">
								    	<f:selectItem itemLabel="#{msgs['equipment.active.true']}" itemValue="true" />
								    	<f:selectItem itemLabel="#{msgs['equipment.active.false']}" itemValue="false" />                        	 
								    </p:selectOneMenu>
							    </p:column>							    		
						    			    	
							    <p:commandButton action="#{equipmentMBean.find}" update="equipmentListTable"
							    	icon="fa fa-search Fs16 white" 
						        	title="#{msgs['template.button.find']}"
						        	value="#{msgs['template.button.find']}"/>
				    		</p:panelGrid>
						</div>
						
						<div class="EmptyBox10"></div>
                    	<p:separator styleClass="Wid100"></p:separator>                    	
	                	<div class="EmptyBox10"></div>
                    	
						<p:dataTable var="equipment" value="#{equipmentMBean.equipmentList}"
								id="equipmentListTable" emptyMessage="#{msgs['template.msg.emptyMessage']}"
								paginator="true" rows="10" paginatorPosition="bottom" paginatorAlwaysVisible="false"
								paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
			
							<p:column style="max-width:200px;">
								<f:facet name="header">
									<h:outputText value="#{msgs['equipment.name']}" />
								</f:facet>
								
								<h:commandLink action="#{equipmentMBean.goToModify}">          				
			           				<h:outputText value="#{equipment.name}"  styleClass="Fs14 leaden"/>
			           				<f:setPropertyActionListener target="#{equipmentMBean.equipment.id}" value="#{equipment.id}" />
			           			</h:commandLink> 
								
							</p:column>
							
							<p:column style="max-width:200px; text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{msgs['equipment.date']}" />
								</f:facet>					
								<h:outputText value="#{equipment.date}" styleClass="Fs14 leaden">										
				                	<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</p:column>	
							
							<p:column style="max-width:200px; text-align:center;">
								<f:facet name="header">
									<h:outputText value="#{msgs['equipment.distance.list']}" />
								</f:facet>
								<h:outputText value="#{equipment.kilometers}" styleClass="Fs14 leaden">
									<f:convertNumber pattern="#0.00"/>
								</h:outputText>
							</p:column>
							
							<p:column style="white-space: nowrap;" styleClass="Wid15 TexAlCenter">  
				                <f:facet name="header">  
				                    <h:outputText value="" />  
				                </f:facet>           			
			
			           			<p:commandButton icon="fa fa-minus-circle Fs16 white" oncomplete="PF('confirmation').show()" 
			           				title="#{msgs['equipment.button.deactivate']}" rendered="#{equipment.active}">
			           				<f:setPropertyActionListener target="#{equipmentMBean.equipment.id}" value="#{equipment.id}" />
			           			</p:commandButton>
			           				
			           			<p:commandButton icon="fa fa-check-circle Fs16 white" oncomplete="PF('confirmationActive').show()" 
			           				title="#{msgs['equipment.button.activate']}" rendered="#{!equipment.active}">
			           				<f:setPropertyActionListener target="#{equipmentMBean.equipment.id}" value="#{equipment.id}" />
			           			</p:commandButton>
			           				 			
			           			<p:commandButton icon="fa fa-trash Fs16 white" oncomplete="PF('deleteConfirmation').show()" title="#{msgs['template.button.delete']}">           			
			     					<f:setPropertyActionListener target="#{equipmentMBean.equipment.id}" value="#{equipment.id}" />
			           			</p:commandButton>   
			           			
				            </p:column>  
						</p:dataTable>
						
	                	<div class="EmptyBox10"></div>
                    	<p:separator styleClass="Wid100"></p:separator>                    	
	                	<div class="EmptyBox10"></div>
															
						<div class="TexAlCenter"> 
							<p:commandButton value="#{msgs['template.button.incluir']}" action="#{equipmentMBean.goToCreate}" ajax="false"  />
						</div>
						
				     	<p:confirmDialog message="#{msgs['template.msg.delete.confirmation']}" severity="alert" widgetVar="deleteConfirmation">
				   			<p:commandButton value="#{msgs['template.button.yes']}" oncomplete="PF('deleteConfirmation').hide()" action="#{equipmentMBean.delete}" ajax="false" />
				   			<p:commandButton value="#{msgs['template.button.no']}" onclick="PF('deleteConfirmation').hide()" />
						</p:confirmDialog> 		
						
				  		<p:confirmDialog message="#{msgs['equipment.activation.confirmation']}" severity="alert" widgetVar="confirmationActive">        	
				        	<p:commandButton value="#{msgs['template.button.yes']}" oncomplete="PF('confirmationActive').hide()"  
				        		action="#{equipmentMBean.activate}" ajax="false" title="#{msgs['template.button.activate']}"/>        	
				        	<p:commandButton value="#{msgs['template.button.no']}" onclick="PF('confirmationActive').hide()" />
				        </p:confirmDialog>	
				        
				   		<p:confirmDialog message="#{msgs['equipment.deactivation.confirmation']}" severity="alert" widgetVar="confirmation">         	
				         	<p:commandButton value="#{msgs['template.button.yes']}" oncomplete="PF('confirmation').hide()"  
				         		action="#{equipmentMBean.deactivate}" ajax="false" 
				         		title="#{msgs['template.button.deactivate']}" />         	
				         	<p:commandButton value="#{msgs['template.button.no']}" onclick="PF('confirmation').hide()" />
				         </p:confirmDialog>							
						
					</h:form>                          
				</p:panel>          	                
            </div>
	    </div>
	
	</ui:define>
</ui:composition>